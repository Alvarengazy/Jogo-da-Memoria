:root {
  --card-size: 96px;
  --card-radius: 999px; 
  --flip-duration: 380ms;
  --gap: 16px;
  --accent: #f6a800; 
  --tile-bg: #354a5f; 
  --tile-bg-2: #d8e3ef; 
  --ring-thickness: 6px;
}


@property --sweep {
  syntax: '<angle>';
  inherits: false;
  initial-value: 0deg;
}

@media (min-width: 576px) {
  :root { --card-size: 104px; }
}
@media (min-width: 992px) {
  :root { --card-size: 112px; }
}


.board {
  display: grid;
  grid-template-columns: repeat(var(--cols, 4), var(--card-size));
  grid-auto-rows: var(--card-size);
  gap: var(--gap);
  justify-content: center;
  perspective: 1000px;
  padding: 8px;
}


.board-area {
  min-height: calc(100vh - 200px); 
  display: grid;
  place-items: center;
}


@media (max-width: 420px) {
  :root { --card-size: 76px; }
}

.card-tile {
  position: relative;
  width: var(--card-size);
  height: var(--card-size);
  border-radius: var(--card-radius);
  transform-style: preserve-3d;
  transition: transform var(--flip-duration) cubic-bezier(.2,.7,.2,1.1), box-shadow 220ms ease;
  cursor: pointer;
  user-select: none;
  box-shadow: 0 6px 0 rgba(0,0,0,.15);
  border: 0;
  background: transparent;
  appearance: none;
}


.card-tile::after {
  content: '';
  position: absolute;
  inset: calc(-1 * var(--ring-thickness));
  border-radius: 999px;
  pointer-events: none;
  z-index: 3;
  opacity: 0;
  background:
    conic-gradient(var(--accent) var(--sweep), transparent 0 360deg);
  -webkit-mask:
    radial-gradient(farthest-side, transparent calc(100% - var(--ring-thickness)), #000 calc(100% - var(--ring-thickness)));
  mask:
    radial-gradient(farthest-side, transparent calc(100% - var(--ring-thickness)), #000 calc(100% - var(--ring-thickness)));
}
.card-tile.matched::after {
  opacity: 1;
  animation: ring-sweep .75s ease forwards;
}
@keyframes ring-sweep { to { --sweep: 360deg; } }

/* Subtle lift/tilt on hover */
.card-tile:hover { transform: translateY(-4px) rotateX(2deg) rotateY(-2deg); box-shadow: 0 10px 0 rgba(0,0,0,.18); }
.card-tile:active { transform: translateY(0) scale(.98); box-shadow: 0 4px 0 rgba(0,0,0,.14); }

.card-tile.is-flipped {
  transform: rotateY(180deg) !important;
}

.card-face {
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  border-radius: var(--card-radius);
  backface-visibility: hidden;
}

.card-front {
  background:
    radial-gradient(60% 60% at 35% 30%, rgba(255,255,255,.12), transparent 60%),
    var(--tile-bg);
  color: #fff;
  border: none;
  font-size: 0; 
}

.card-back {
  transform: rotateY(180deg);
  background: #fff;
  border: none;
  font-size: 34px;
  color: #5a718b; 
}




.card-tile.match-pop {
  animation: pop .35s ease;
}

@keyframes pop {
  0% { transform: rotateY(180deg) scale(1); }
  50% { transform: rotateY(180deg) scale(1.08); }
  100% { transform: rotateY(180deg) scale(1); }
}


@keyframes shakeX {
  10%, 90% { transform: translateX(-2px); }
  20%, 80% { transform: translateX(4px); }
  30%, 50%, 70% { transform: translateX(-6px); }
  40%, 60% { transform: translateX(6px); }
}
.card-tile.wrong { animation: shakeX 350ms ease; }


@keyframes tileIn {
  from { opacity: 0; transform: scale(.85); }
  to { opacity: 1; transform: scale(1); }
}
.card-tile.tile-in { animation: tileIn 300ms ease both; }


.card-tile.flip-bounce.is-flipped { transform: rotateY(180deg) scale(1.04); }
.card-tile.is-flipped { box-shadow: 0 10px 0 rgba(0,0,0,.15); }


.card-tile.is-flipped:hover,
.card-tile.is-flipped:active { transform: rotateY(180deg) scale(1.04); box-shadow: 0 10px 0 rgba(0,0,0,.18); }


html[data-bs-theme='light'] .card-front { background: #5a718b; }


.emoji {
  filter: drop-shadow(0 1px 0 rgba(0,0,0,.1));
}

.card-back .icon,
.card-back .bi { font-size: 36px; color: #5a718b !important; filter: drop-shadow(0 1px 0 rgba(0,0,0,.08)); }
.card-tile.matched .card-back .icon,
.card-tile.matched .card-back .bi { color: var(--accent) !important; }


html[data-bs-theme='dark'] .card-back {
  background:
    radial-gradient(60% 60% at 35% 30%, rgba(255,255,255,.12), transparent 60%),
    var(--tile-bg);
  color: #fff;
}
html[data-bs-theme='dark'] .card-back .icon,
html[data-bs-theme='dark'] .card-back .bi { color: #8fb0d0 !important; }

.board-empty-hint {
  text-align: center;
  color: var(--bs-secondary-color);
}


.letter-wide { letter-spacing: .12em; }
.btn-pill { border-radius: 999px; padding: .45rem .9rem; }
.btn-warning { background-color: var(--accent); border-color: var(--accent); color: #1a1a1a; }
.btn-warning:hover { filter: brightness(1.05); }
.btn-outline-secondary { color: #6c757d; border-color: #cfd6dd; }
.btn-outline-secondary:hover { background-color: #e9eef3; }
.btn-outline-primary { border-color: #a9c7ff; color: #5a86ff; }
.btn-outline-primary:hover { background-color: #e8f0ff; }


.stat-pill { display: inline-flex; align-items: center; gap: .5rem; background: var(--bs-secondary-bg); color: var(--bs-body-color); border-radius: 999px; padding: .4rem .8rem; border: 1px solid var(--bs-border-color); }
.stat-pill .label { font-size: .8rem; color: var(--bs-secondary-color); }
.stat-pill .value { font-variant-numeric: tabular-nums; }


.card-tile:focus-visible { outline: 4px solid var(--accent); outline-offset: 2px; }

